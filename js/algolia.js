!function(){function e(){$(document).ready(function(){var e={root:"/blog/",algolia:{applicationID:"XDG1C6ASA4",apiKey:"eebdd0f1174b77269d954813961815bc",indexName:"khiav-hexo-blog",hits:{per_page:10},labels:{input_placeholder:"輸入搜尋內容",hits_empty:"找不到「${query}」",hits_stats:"找到 ${hits} 條相關條目，花費 ${time} 亳秒"}}},a=e.algolia;if(a.applicationID&&a.apiKey&&a.indexName){var t=i(function(e){e.search()},500),n=instantsearch({appId:a.applicationID,apiKey:a.apiKey,indexName:a.indexName,searchFunction:function(e){$("#algolia-search-input").find("input").val()?t(e):t.cancel()}});[instantsearch.widgets.searchBox({container:"#algolia-search-input",placeholder:a.labels.input_placeholder}),instantsearch.widgets.hits({container:"#algolia-hits",hitsPerPage:a.hits.per_page||10,templates:{item:function(a){return'<a href="'+e.root+a.path+'" class="algolia-hit-item-link">'+a._highlightResult.title.value+"</a>"},empty:function(e){return'<div id="algolia-hits-empty">'+a.labels.hits_empty.replace(/\$\{query}/,e.query)+"</div>"}},cssClasses:{item:"algolia-hit-item"}}),instantsearch.widgets.stats({container:"#algolia-stats",templates:{body:function(i){return a.labels.hits_stats.replace(/\$\{hits}/,i.nbHits).replace(/\$\{time}/,i.processingTimeMS)+'<span class="algolia-powered">  <img src="'+e.root+'imgs/algolia_logo.svg" alt="Algolia" /></span><hr />'}}}),instantsearch.widgets.pagination({container:"#algolia-pagination",scrollTo:!1,showFirstLast:!1,labels:{first:'<i class="fa fa-angle-double-left"></i>',last:'<i class="fa fa-angle-double-right"></i>',previous:'<i class="fa fa-angle-left"></i>',next:'<i class="fa fa-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",active:"current",disabled:"disabled-item"}})].forEach(n.addWidget,n),n.start(),$(".popup-trigger").on("click",function(e){e.stopPropagation(),$("body").append('<div class="popoverlay">').css("overflow","hidden"),$(".popoverlay").fadeIn(300),$(".popup").fadeIn(300),$("#algolia-search-input").find("input").focus()}),$(".popup-btn-close").click(function(){$(".popoverlay").fadeOut(300),$(".popup").fadeOut(300),$(".popoverlay").remove(),$("body").css("overflow","")})}else window.console.error("Algolia Settings are invalid.")})}var a=function(e,a,i,t){var n,l,o,s=+new Date,c=null,r=0,p=null,u=function(){p&&clearTimeout(p),p=null,r=s,c=null};exec=function(){u(),e.apply(l,o)};var d=function(){s=+new Date,null==c&&(c=s),l=this,o=arguments,n=s-(t?c:r)-a,clearTimeout(p),t?i||n>=0?exec():p=setTimeout(exec,a):n>=0?exec():i&&(p=setTimeout(exec,-n)),c=s};return d.cancel=function(){u()},d.flush=function(){exec()},d},i=function(e,i,t){return a(e,i,t,!0)},t=setInterval(function(){"undefined"!=typeof $&&(e(),clearInterval(t))},100)}();